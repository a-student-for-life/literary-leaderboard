<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Add Weekly Data</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    label { display: block; margin-top: 10px; }
    input, textarea { width: 300px; padding: 5px; margin-top: 5px; }
    button { margin-top: 15px; padding: 10px 20px; }
  </style>
</head>
<body>
  <h2>Add Weekly Data</h2>
  <form id="dataForm">
    <label>Week:</label>
    <input type="text" id="week" placeholder="e.g., 2025-10-16" required />

    <label>Status:</label>
    <input type="text" id="status" placeholder="e.g., Completed" required />

    <label>Notes:</label>
    <textarea id="notes" placeholder="Write notes here..." required></textarea>

    <button type="submit">Add Data</button>
  </form>

  <script type="module">
    import { db } from './firebase.js';
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore.js";

    const form = document.getElementById("dataForm");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const week = document.getElementById("week").value;
      const status = document.getElementById("status").value;
      const notes = document.getElementById("notes").value;

      try {
        await addDoc(collection(db, "weeklyReports"), { week, status, notes });
        alert("Weekly data added!");
        form.reset();
      } catch (err) {
        console.error("Error adding document: ", err);
        alert("Failed to add data. Check console.");
      }
    });
  </script>
</body>
</html>
